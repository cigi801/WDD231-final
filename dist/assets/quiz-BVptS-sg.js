import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */const d={forest:"grass",mountains:"rock",ocean:"water",city:"electric",desert:"ground",cave:"dark",swamp:"poison",plains:"normal",tundra:"ice",jungle:"bug",volcano:"fire",river:"flying",beach:"fairy",grassland:"fighting",urban:"steel",mountain_peak:"psychic"};document.getElementById("quizForm").addEventListener("submit",async function(r){r.preventDefault();const e=r.target,s=e.environment.value.trim().toLowerCase(),k=e.trait.value.trim().toLowerCase(),i=e.color.value.trim().toLowerCase(),c=d[s]||"steel",w={environment:s,type:c,trait:k,color:i};localStorage.setItem("quizAnswers",JSON.stringify(w));try{const l=(await(await fetch(`https://pokeapi.co/api/v2/type/${c}`)).json()).pokemon.map(o=>o.pokemon),m=(await(await fetch(`https://pokeapi.co/api/v2/pokemon-color/${i}`)).json()).pokemon_species.map(o=>{const a=o.url.split("/").filter(Boolean).pop();return{name:o.name,url:`https://pokeapi.co/api/v2/pokemon/${a}/`}}),h=new Set(l.map(o=>o.name)),y=m.filter(o=>h.has(o.name));async function n(o){const a=o.sort(()=>.5-Math.random());for(const u of a)try{const f=await fetch(u.url);if(!f.ok)continue;if((await f.json()).id<=1025)return u}catch{continue}return null}let t=await n(y);t||(t=await n(l)),t||(t=await n(m)),t||(t={name:"klang"}),window.location.href=`results.html?pokemon=${t.name}`}catch(p){console.error("Failed to fetch PokÃ©mon:",p),window.location.href="results.html?pokemon=klang"}});
